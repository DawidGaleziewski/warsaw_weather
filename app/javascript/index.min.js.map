{"version":3,"sources":["node_modules/browser-pack/_prelude.js","javascript/handlers/UIHandler.js","javascript/handlers/WeatherHandler.js","javascript/index.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","UIHandler","kelvinDegrees","celsius","toFixed","UIWeatherSumary","weatherForecastData","UIDay","querySelector","UIDate","UIWindSpeed","UIHumidity","UIWeatherIconImage","UIweatherIconCaption","UIdegree","dateObject","Date","list","dt_txt","dayOfTheWeek","toUTCString","split","yearMonthDay","concat","getFullYear","getUTCMonth","getUTCDate","windSpeed","wind","speed","humidity","main","weatherIconURL","weather","icon","weatherDescription","description","tempCelcius","this","kelvinToCelsius","temp","innerText","src","innerHTML","UIWeatherForecast","_this","finalForecastList","weatherForecastDataForToday","filter","singleForecast","index","array","todaysDate","singleForecastDate","getDay","forEach","hour","getUTCHours","singleForecastTemplate","WeatherHandler","_classCallCheck","apiKey","url","longitude","latitude","requestURL","Promise","resolve","reject","fetch","then","response","json","data","error","_WeatherHandler","_interopRequireDefault","_UIHandler","Weather","UI","UIweatherSummary","document","getElementById","UIweatherForecast","warsawGeolocation","getWeather","console","log","updateWeatherSummary","updateWeatherForcesat"],"mappings":"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","file":"index.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/* eslint-disable class-methods-use-this */\nclass UIHandler {\n  kelvinToCelsius(kelvinDegrees) {\n    const celsius = (kelvinDegrees - 273.15).toFixed(1);\n    return celsius;\n  }\n\n  updateWeatherSummary(UIWeatherSumary, weatherForecastData) {\n    // Get UI\n    const UIDay = UIWeatherSumary.querySelector('.day');\n    const UIDate = UIWeatherSumary.querySelector('.date');\n    const UIWindSpeed = UIWeatherSumary.querySelector('.wind-speed');\n    const UIHumidity = UIWeatherSumary.querySelector('.humidity');\n    const UIWeatherIconImage = UIWeatherSumary.querySelector(\n      '.weather-icon__image'\n    );\n    const UIweatherIconCaption = UIWeatherSumary.querySelector(\n      '.weather-icon__caption'\n    );\n    const UIdegree = UIWeatherSumary.querySelector('.degree');\n    // Format data from API\n    const dateObject = new Date(weatherForecastData.list[0].dt_txt);\n    const dayOfTheWeek = dateObject.toUTCString().split(',')[0];\n    const yearMonthDay = `${dateObject.getFullYear()}/${dateObject.getUTCMonth() +\n      1}/${dateObject.getUTCDate() + 1}`;\n    const windSpeed = weatherForecastData.list[0].wind.speed;\n    const humidity = weatherForecastData.list[0].main.humidity;\n    const weatherIconURL = `http://openweathermap.org/img/wn/${weatherForecastData.list[0].weather[0].icon}@2x.png`;\n    const weatherDescription =\n      weatherForecastData.list[0].weather[0].description;\n    const tempCelcius = this.kelvinToCelsius(\n      weatherForecastData.list[0].main.temp\n    );\n    // Update DOM with API data\n    UIDay.innerText = dayOfTheWeek;\n    UIDate.innerText = yearMonthDay;\n    UIWindSpeed.innerText = `Wind: ${windSpeed} km/h`;\n    UIHumidity.innerText = `${humidity}%`;\n    UIWeatherIconImage.src = weatherIconURL;\n    UIweatherIconCaption.innerText = weatherDescription;\n    UIdegree.innerHTML = `${tempCelcius} &deg`;\n  }\n\n  updateWeatherForcesat(UIWeatherForecast, weatherForecastData) {\n    let finalForecastList = '';\n    const weatherForecastDataForToday = weatherForecastData.list.filter(\n      (singleForecast, index, array) => {\n        const todaysDate = new Date(array[0].dt_txt);\n        const singleForecastDate = new Date(singleForecast.dt_txt);\n        return todaysDate.getDay() === singleForecastDate.getDay();\n      }\n    );\n    weatherForecastDataForToday.forEach(singleForecast => {\n      const dateObject = new Date(singleForecast.dt_txt);\n      const dayOfTheWeek = dateObject.toUTCString().split(',')[0];\n      const hour = `${dateObject.getUTCHours()}:00`;\n      const tempCelcius = this.kelvinToCelsius(singleForecast.main.temp);\n      const weatherIconURL = `http://openweathermap.org/img/wn/${singleForecast.weather[0].icon}@2x.png`;\n      const singleForecastTemplate = `<li class=\"weather-forecast__item\">\n      <ul>\n        <li class=\"day\">\n          ${dayOfTheWeek}\n        </li>\n        <li class=\"hour\">\n          ${hour}\n        </li>\n        <li class=\"icon\">\n          <img src=\"${weatherIconURL}\" alt=\"Weather icon\">\n        </li>\n        <li class=\"degree\">\n          ${tempCelcius}&deg\n        </li>\n      </ul>\n    </li>`;\n\n      finalForecastList += singleForecastTemplate;\n    });\n    UIWeatherForecast.innerHTML = finalForecastList;\n  }\n}\n\nexport default UIHandler;\n","class WeatherHandler {\n  constructor() {\n    this.apiKey = 'e7336c281c3b4f9e7da03a467444db14';\n    this.url = 'https://api.openweathermap.org/data/2.5/';\n  }\n\n  getWeather(longitude, latitude) {\n    const requestURL = `${this.url}forecast?lat=${latitude}&lon=${longitude}&APPID=${this.apiKey}`;\n    return new Promise((resolve, reject) => {\n      // eslint-disable-next-line no-undef\n      fetch(requestURL)\n        .then(response => response.json())\n        .then(data => resolve(data))\n        .catch(error => reject(error));\n    });\n  }\n}\n\nexport default WeatherHandler;\n","import WeatherHandler from './handlers/WeatherHandler';\nimport UIHandler from './handlers/UIHandler';\n\nconst Weather = new WeatherHandler();\nconst UI = new UIHandler();\n// eslint-disable-next-line no-undef\nconst UIweatherSummary = document.getElementById('weather-summary');\nconst UIweatherForecast = document.getElementById('weather-forecast');\n\nconst warsawGeolocation = {\n  longitude: '21.0122',\n  latitude: '52.2297'\n};\nWeather.getWeather(\n  warsawGeolocation.longitude,\n  warsawGeolocation.latitude\n).then(data => {\n  console.log(data);\n  UI.updateWeatherSummary(UIweatherSummary, data);\n  UI.updateWeatherForcesat(UIweatherForecast, data);\n});\n"]}