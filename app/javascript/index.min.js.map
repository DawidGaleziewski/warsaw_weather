{"version":3,"sources":["node_modules/browser-pack/_prelude.js","javascript/handlers/UIHandler.js","javascript/handlers/WeatherHandler.js","javascript/index.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","UIHandler","kelvinDegrees","celsius","toFixed","weatherForecastData","list","filter","singleForecast","index","array","todaysDate","Date","dt_txt","singleForecastDate","getDay","UIWeatherSumary","UIDay","querySelector","UIDate","UIWindSpeed","UIHumidity","UIWeatherIconImage","UIweatherIconCaption","UIdegree","dateObject","dayOfTheWeek","toUTCString","split","yearMonthDay","concat","getFullYear","getUTCMonth","getUTCDate","windSpeed","wind","speed","humidity","main","weatherIconURL","weather","icon","weatherDescription","description","tempCelcius","this","kelvinToCelsius","temp","innerText","src","innerHTML","UIWeatherForecast","_this","finalForecastList","weatherForecastDataForToday","filterForecastForToday","forEach","hour","getUTCHours","singleForecastTemplate","WeatherHandler","_classCallCheck","apiKey","url","longitude","latitude","requestURL","Promise","resolve","reject","fetch","then","response","json","data","error","_WeatherHandler","_interopRequireDefault","_UIHandler","Weather","UI","UIweatherSummary","document","getElementById","UIweatherForecast","warsawGeolocation","getWeather","console","log","updateWeatherSummary","updateWeatherForcesat"],"mappings":"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","file":"index.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/* eslint-disable class-methods-use-this */\nclass UIHandler {\n  kelvinToCelsius(kelvinDegrees) {\n    const celsius = (kelvinDegrees - 273.15).toFixed(1);\n    return celsius;\n  }\n\n  filterForecastForToday(weatherForecastData) {\n    return weatherForecastData.list.filter((singleForecast, index, array) => {\n      const todaysDate = new Date(array[0].dt_txt);\n      const singleForecastDate = new Date(singleForecast.dt_txt);\n      return todaysDate.getDay() === singleForecastDate.getDay();\n    });\n  }\n\n  updateWeatherSummary(UIWeatherSumary, weatherForecastData) {\n    // Get UI\n    const UIDay = UIWeatherSumary.querySelector('.day');\n    const UIDate = UIWeatherSumary.querySelector('.date');\n    const UIWindSpeed = UIWeatherSumary.querySelector('.wind-speed');\n    const UIHumidity = UIWeatherSumary.querySelector('.humidity');\n    const UIWeatherIconImage = UIWeatherSumary.querySelector(\n      '.weather-icon__image'\n    );\n    const UIweatherIconCaption = UIWeatherSumary.querySelector(\n      '.weather-icon__caption'\n    );\n    const UIdegree = UIWeatherSumary.querySelector('.degree');\n    // Format data from API\n    const dateObject = new Date(weatherForecastData.list[0].dt_txt);\n    const dayOfTheWeek = dateObject.toUTCString().split(',')[0];\n    const yearMonthDay = `${dateObject.getFullYear()}/${dateObject.getUTCMonth() +\n      1}/${dateObject.getUTCDate() + 1}`;\n    const windSpeed = weatherForecastData.list[0].wind.speed;\n    const humidity = weatherForecastData.list[0].main.humidity;\n    const weatherIconURL = `http://openweathermap.org/img/wn/${weatherForecastData.list[0].weather[0].icon}@2x.png`;\n    const weatherDescription =\n      weatherForecastData.list[0].weather[0].description;\n    const tempCelcius = this.kelvinToCelsius(\n      weatherForecastData.list[0].main.temp\n    );\n    // Update DOM with API data\n    UIDay.innerText = dayOfTheWeek;\n    UIDate.innerText = yearMonthDay;\n    UIWindSpeed.innerText = `Wind: ${windSpeed} km/h`;\n    UIHumidity.innerText = `${humidity}%`;\n    UIWeatherIconImage.src = weatherIconURL;\n    UIweatherIconCaption.innerText = weatherDescription;\n    UIdegree.innerHTML = `${tempCelcius} &deg`;\n  }\n\n  updateWeatherForcesat(UIWeatherForecast, weatherForecastData) {\n    let finalForecastList = '';\n    const weatherForecastDataForToday = this.filterForecastForToday(\n      weatherForecastData\n    );\n    weatherForecastDataForToday.forEach(singleForecast => {\n      const dateObject = new Date(singleForecast.dt_txt);\n      const dayOfTheWeek = dateObject.toUTCString().split(',')[0];\n      const hour = `${dateObject.getUTCHours()}:00`;\n      const tempCelcius = this.kelvinToCelsius(singleForecast.main.temp);\n      const weatherIconURL = `http://openweathermap.org/img/wn/${singleForecast.weather[0].icon}@2x.png`;\n      const singleForecastTemplate = `<li class=\"weather-forecast__item\">\n      <ul>\n        <li class=\"day\">\n          ${dayOfTheWeek}\n        </li>\n        <li class=\"hour\">\n          ${hour}\n        </li>\n        <li class=\"icon\">\n          <img src=\"${weatherIconURL}\" alt=\"Weather icon\">\n        </li>\n        <li class=\"degree\">\n          ${tempCelcius}&deg\n        </li>\n      </ul>\n    </li>`;\n\n      finalForecastList += singleForecastTemplate;\n    });\n    UIWeatherForecast.innerHTML = finalForecastList;\n  }\n}\n\nexport default UIHandler;\n","class WeatherHandler {\n  constructor() {\n    this.apiKey = 'e7336c281c3b4f9e7da03a467444db14';\n    this.url = 'https://api.openweathermap.org/data/2.5/';\n  }\n\n  getWeather(longitude, latitude) {\n    const requestURL = `${this.url}forecast?lat=${latitude}&lon=${longitude}&APPID=${this.apiKey}`;\n    return new Promise((resolve, reject) => {\n      // eslint-disable-next-line no-undef\n      fetch(requestURL)\n        .then(response => response.json())\n        .then(data => resolve(data))\n        .catch(error => reject(error));\n    });\n  }\n}\n\nexport default WeatherHandler;\n","import WeatherHandler from './handlers/WeatherHandler';\nimport UIHandler from './handlers/UIHandler';\n\nconst Weather = new WeatherHandler();\nconst UI = new UIHandler();\n// eslint-disable-next-line no-undef\nconst UIweatherSummary = document.getElementById('weather-summary');\nconst UIweatherForecast = document.getElementById('weather-forecast');\n\nconst warsawGeolocation = {\n  longitude: '21.0122',\n  latitude: '52.2297'\n};\nWeather.getWeather(\n  warsawGeolocation.longitude,\n  warsawGeolocation.latitude\n).then(data => {\n  console.log(data);\n  UI.updateWeatherSummary(UIweatherSummary, data);\n  UI.updateWeatherForcesat(UIweatherForecast, data);\n});\n"]}